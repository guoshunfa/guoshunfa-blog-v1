---
title: åŸºç¡€çŸ¥è¯†
date: 2022-04-04 14:35:18
permalink: /pages/048dd8/
categories: 
  - è½¯ä»¶æœåŠ¡
  - Swift
tags: 
  - 
---
# åŸºç¡€çŸ¥è¯†

ç¿»è¯‘è‡ªï¼šhttps://docs.swift.org/swift-book/LanguageGuide/TheBasics.html

Swift æ˜¯ iOSã€macOSã€watchOS å’Œ Apple tvOS app å¼€å‘çš„æ–°ç¼–ç¨‹è¯­è¨€ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä»æ‚¨åœ¨Cå’ŒObjective-Cå¼€å‘çš„ç»éªŒæ¥çœ‹ï¼ŒSwiftçš„è®¸å¤šéƒ¨åˆ†éƒ½ä¼šå¾ˆç†Ÿæ‚‰ã€‚

Swiftæä¾›äº†æ‰€æœ‰åŸºæœ¬Cå’ŒObjective-Cç±»å‹çš„è‡ªå·±çš„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ç”¨äºæ•´æ•°çš„`Int`ã€ç”¨äºæµ®ç‚¹å€¼çš„`Double`å’Œ`Float`ã€ç”¨äºå¸ƒå°”å€¼çš„`Bool`å’Œç”¨äºæ–‡æœ¬æ•°æ®çš„`String`ã€‚Swiftè¿˜æä¾›äº†ä¸‰ç§ä¸»è¦é›†åˆç±»å‹çš„å¼ºå¤§ç‰ˆæœ¬ï¼Œ`Array`ã€`Set`å’Œ`Dictionary`ï¼Œå¦‚[é›†åˆç±»å‹](https://docs.swift.org/swift-book/LanguageGuide/CollectionTypes.html)ä¸­æ‰€è¿°ã€‚

ä¸Cä¸€æ ·ï¼ŒSwiftä½¿ç”¨å˜é‡é€šè¿‡æ ‡è¯†åç§°å­˜å‚¨å’Œå¼•ç”¨å€¼ã€‚Swiftè¿˜å¹¿æ³›ä½¿ç”¨å€¼æ— æ³•æ›´æ”¹çš„å˜é‡ã€‚è¿™äº›è¢«ç§°ä¸ºå¸¸æ•°ï¼Œæ¯”Cä¸­çš„å¸¸æ•°å¼ºå¤§å¾—å¤šã€‚åœ¨æ•´ä¸ª Swift ä¸­ï¼Œå¸¸é‡ä¼šä½¿ç”¨ï¼Œä½¿ä»£ç åœ¨å¤„ç†ä¸éœ€è¦æ›´æ”¹çš„å€¼æ—¶æ›´åŠ å®‰å…¨ã€æ›´æ¸…æ™°ã€‚

é™¤äº†ç†Ÿæ‚‰çš„ç±»å‹å¤–ï¼ŒSwiftè¿˜å¼•å…¥äº†Objective-Cä¸­æ²¡æœ‰çš„é«˜çº§ç±»å‹ï¼Œä¾‹å¦‚å…ƒç»„ã€‚å…ƒç»„ä½¿æ‚¨èƒ½å¤Ÿåˆ›å»ºå’Œä¼ é€’å€¼åˆ†ç»„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å…ƒç»„ä»å‡½æ•°ä¸­è¿”å›å¤šä¸ªå€¼ä½œä¸ºå•ä¸ªå¤åˆå€¼ã€‚

Swiftè¿˜å¼•å…¥äº†å¯é€‰ç±»å‹ï¼Œç”¨äºå¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µã€‚å¯é€‰å†…å®¹è¦ä¹ˆè¯´â€œæœ‰ä¸€ä¸ªå€¼ï¼Œå®ƒç­‰äº*x*â€æˆ–â€œ*æ ¹æœ¬æ²¡æœ‰*å€¼â€ã€‚ä½¿ç”¨å¯é€‰ç±»ä¼¼äºåœ¨Objective-Cä¸­ä½¿ç”¨`nil`å’ŒæŒ‡é’ˆï¼Œä½†å®ƒä»¬é€‚ç”¨äºä»»ä½•ç±»å‹ï¼Œè€Œä¸ä»…ä»…æ˜¯ç±»ã€‚å¯é€‰é€‰é¡¹ä¸ä»…æ¯”Objective-Cä¸­çš„`nil`æŒ‡é’ˆæ›´å®‰å…¨ã€æ›´å…·è¡¨ç°åŠ›ï¼Œè€Œä¸”æ˜¯Swiftè®¸å¤šæœ€å¼ºå¤§åŠŸèƒ½çš„æ ¸å¿ƒã€‚

Swift æ˜¯ä¸€ç§*ç±»å‹å®‰å…¨çš„*è¯­è¨€ï¼Œè¿™æ„å‘³ç€è¯¥è¯­è¨€å¯å¸®åŠ©æ‚¨æ¸…æ¥šåœ°äº†è§£ä»£ç å¯ä»¥ä½¿ç”¨çš„å€¼ç±»å‹ã€‚å¦‚æœæ‚¨çš„éƒ¨åˆ†ä»£ç éœ€è¦`String`ï¼Œåˆ™ç±»å‹å®‰å…¨å¯ä»¥é˜²æ­¢æ‚¨é”™è¯¯åœ°ä¼ é€’ç»™`Int`ã€‚åŒæ ·ï¼Œç±»å‹å®‰å…¨å¯é˜²æ­¢æ‚¨æ„å¤–åœ°å°†å¯é€‰`String`ä¼ é€’ç»™éœ€è¦éå¯é€‰`String`çš„ä»£ç ã€‚ç±»å‹å®‰å…¨å¯å¸®åŠ©æ‚¨åœ¨å¼€å‘è¿‡ç¨‹ä¸­å°½æ—©æ•è·å’Œä¿®å¤é”™è¯¯ã€‚

## å¸¸é‡å’Œå˜é‡(Constants and Variables)

å¸¸é‡å’Œå˜é‡å°†åç§°ï¼ˆå¦‚`maximumNumberOfLoginAttempts`æˆ–`welcomeMessage`ï¼‰ä¸ç‰¹å®šç±»å‹çš„å€¼ï¼ˆå¦‚æ•°å­—`10`æˆ–å­—ç¬¦ä¸²`"Hello"`ç›¸å…³è”ã€‚*å¸¸é‡*çš„å€¼ä¸€æ—¦è®¾ç½®å°±æ— æ³•æ›´æ”¹ï¼Œè€Œ*å˜é‡*å°†æ¥å¯ä»¥è®¾ç½®ä¸ºä¸åŒçš„å€¼ã€‚

### å£°æ˜å¸¸é‡å’Œå˜é‡

å¸¸é‡å’Œå˜é‡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»å£°æ˜ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`let`å…³é”®å­—å£°æ˜å¸¸é‡ï¼Œå¹¶ä½¿ç”¨`var`å…³é”®å­—å£°æ˜å˜é‡ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨å¸¸é‡å’Œå˜é‡æ¥è·Ÿè¸ªç”¨æˆ·å°è¯•ç™»å½•æ¬¡æ•°çš„ç¤ºä¾‹ï¼š

```swift
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
```

æ­¤ä»£ç å¯ä»¥è¯»ä½œï¼š

â€œå£°æ˜ä¸€ä¸ªåä¸º`maximumNumberOfLoginAttempts`çš„æ–°å¸¸é‡ï¼Œå¹¶ç»™å®ƒçš„å€¼10ã€‚ç„¶åï¼Œå£°æ˜ä¸€ä¸ªåä¸º`currentLoginAttempt`çš„æ–°å˜é‡ï¼Œå¹¶ç»™å®ƒä¸€ä¸ªåˆå§‹å€¼`0`ã€‚â€

åœ¨æœ¬ä¾‹ä¸­ï¼Œå…è®¸çš„æœ€å¤§ç™»å½•å°è¯•æ¬¡æ•°è¢«å£°æ˜ä¸ºå¸¸é‡ï¼Œå› ä¸ºæœ€å¤§å€¼æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚å½“å‰ç™»å½•å°è¯•è®¡æ•°å™¨å£°æ˜ä¸ºå˜é‡ï¼Œå› ä¸ºæ¯æ¬¡ç™»å½•å°è¯•å¤±è´¥åï¼Œæ­¤å€¼å¿…é¡»é€’å¢ã€‚

æ‚¨å¯ä»¥åœ¨ä¸€è¡Œä¸Šå£°æ˜å¤šä¸ªå¸¸é‡æˆ–å¤šä¸ªå˜é‡ï¼Œç”¨é€—å·åˆ†éš”ï¼š

```swift
var x = 0.0, y = 0.0, z = 0.0
```

> æ³¨æ„
>
> å¦‚æœä»£ç ä¸­çš„å­˜å‚¨å€¼ä¸ä¼šæ›´æ”¹ï¼Œè¯·å§‹ç»ˆå°†å…¶å£°æ˜ä¸ºå¸¦æœ‰`let`å…³é”®å­—çš„å¸¸é‡ã€‚ä»…ä½¿ç”¨å˜é‡æ¥å­˜å‚¨éœ€è¦èƒ½å¤Ÿæ›´æ”¹çš„å€¼ã€‚

### ç±»å‹æ³¨é‡Š

æ‚¨å¯ä»¥åœ¨å£°æ˜å¸¸é‡æˆ–å˜é‡æ—¶æä¾›*ç±»å‹æ³¨é‡Š*ï¼Œä»¥æ˜ç¡®å¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨çš„å€¼ç±»å‹ã€‚é€šè¿‡åœ¨å¸¸é‡æˆ–å˜é‡åç§°åæ”¾ç½®å†’å·ï¼Œåè·Ÿç©ºæ ¼ï¼Œåè·Ÿè¦ä½¿ç”¨çš„ç±»å‹åç§°æ¥ç¼–å†™ç±»å‹æ³¨é‡Šã€‚

æ­¤ç¤ºä¾‹ä¸ºåä¸º`welcomeMessage`çš„å˜é‡æä¾›äº†ä¸€ä¸ªç±»å‹æ³¨é‡Šï¼Œä»¥æŒ‡ç¤ºè¯¥å˜é‡å¯ä»¥å­˜å‚¨`String`å€¼ï¼š

```swift
var welcomeMessage: String
```

å£°æ˜ä¸­çš„å†’å·çš„æ„æ€æ˜¯â€œç±»å‹......â€ï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç å¯ä»¥ç†è§£ä¸ºï¼š

â€œDeclare a variable called `welcomeMessage` thatâ€™s of type `String`.â€

â€œ`String`ç±»å‹â€ä¸€è¯çš„æ„æ€æ˜¯â€œå¯ä»¥å­˜å‚¨ä»»ä½•`String`å€¼â€ã€‚æŠŠå®ƒæƒ³è±¡æˆâ€œå¯ä»¥å­˜å‚¨çš„ä¸œè¥¿çš„ç±»å‹â€ï¼ˆæˆ–â€œä¸œè¥¿çš„ç±»å‹â€ï¼‰ã€‚

`welcomeMessage`å˜é‡ç°åœ¨å¯ä»¥è®¾ç½®ä¸ºä»»ä½•å­—ç¬¦ä¸²å€¼ï¼Œæ²¡æœ‰é”™è¯¯ï¼š

```swift
welcomeMessage = "Hello"
```

æ‚¨å¯ä»¥åœ¨ä¸€è¡Œä¸Šå®šä¹‰åŒä¸€ç±»å‹çš„å¤šä¸ªç›¸å…³å˜é‡ï¼Œç”¨é€—å·åˆ†éš”ï¼Œå¹¶åœ¨æœ€ç»ˆå˜é‡åç§°åé¢æ·»åŠ å•ä¸ªç±»å‹æ³¨é‡Šï¼š

```swift
var red, green, blue: Double
```

> æ³¨æ„
>
> åœ¨å®è·µä¸­ï¼Œæ‚¨å¾ˆå°‘éœ€è¦ç¼–å†™ç±»å‹æ³¨é‡Šã€‚å¦‚æœæ‚¨åœ¨å®šä¹‰çš„ç‚¹ä¸ºå¸¸é‡æˆ–å˜é‡æä¾›åˆå§‹å€¼ï¼ŒSwiftå‡ ä¹æ€»æ˜¯å¯ä»¥æ¨æ–­ç”¨äºè¯¥å¸¸é‡æˆ–å˜é‡çš„ç±»å‹ï¼Œå¦‚[ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­ä¸­](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html#ID322)æ‰€è¿°ã€‚åœ¨ä¸Šé¢çš„`welcomeMessage`ç¤ºä¾‹ä¸­ï¼Œæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œå› æ­¤`welcomeMessage`å˜é‡çš„ç±»å‹ç”¨ç±»å‹æ³¨é‡ŠæŒ‡å®šï¼Œè€Œä¸æ˜¯ä»åˆå§‹å€¼æ¨æ–­ã€‚

### å‘½åå¸¸é‡å’Œå˜é‡

å¸¸é‡å’Œå˜é‡åå‡ ä¹å¯ä»¥åŒ…å«ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬Unicodeå­—ç¬¦ï¼š

```swift
let Ï€ = 3.14159
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
let ğŸ¶ğŸ® = "dogcow"
```

å¸¸é‡å’Œå˜é‡åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼å­—ç¬¦ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ç§äººä½¿ç”¨çš„Unicodeæ ‡é‡å€¼æˆ–çº¿æ¡å’Œæ¡†ç»˜åˆ¶å­—ç¬¦ã€‚å®ƒä»¬ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œå°½ç®¡æ•°å­—å¯èƒ½åŒ…å«åœ¨åç§°çš„å…¶ä»–åœ°æ–¹ã€‚

ä¸€æ—¦æ‚¨å£°æ˜äº†ç‰¹å®šç±»å‹çš„å¸¸é‡æˆ–å˜é‡ï¼Œæ‚¨å°±æ— æ³•ä»¥ç›¸åŒåç§°å†æ¬¡å£°æ˜å®ƒï¼Œä¹Ÿæ— æ³•å°†å…¶æ›´æ”¹ä¸ºå­˜å‚¨å…¶ä»–ç±»å‹çš„å€¼ã€‚æ‚¨ä¹Ÿä¸èƒ½å°†å¸¸é‡æ›´æ”¹ä¸ºå˜é‡æˆ–å°†å˜é‡æ›´æ”¹ä¸ºå¸¸é‡ã€‚

> æ³¨æ„
>
> å¦‚æœæ‚¨éœ€è¦ä¸ºå¸¸é‡æˆ–å˜é‡æä¾›ä¸ä¿ç•™çš„Swiftå…³é”®å­—ç›¸åŒçš„åç§°ï¼Œè¯·åœ¨å°†å…³é”®å­—ç”¨ä½œåç§°æ—¶ç”¨åå‹¾ï¼ˆ`ï¼‰åŒ…å›´è¯¥å…³é”®å­—ã€‚ä½†æ˜¯ï¼Œé™¤éæ‚¨å®Œå…¨åˆ«æ— é€‰æ‹©ï¼Œå¦åˆ™è¯·é¿å…ä½¿ç”¨å…³é”®å­—ä½œä¸ºåç§°ã€‚

æ‚¨å¯ä»¥å°†ç°æœ‰å˜é‡çš„å€¼æ›´æ”¹ä¸ºå…¼å®¹ç±»å‹çš„å¦ä¸€ä¸ªå€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œ `friendlyWelcome` çš„å€¼ä» `"Hello!"` æ”¹å˜æˆäº† `"Bonjour!"`:

```swift
1. var friendlyWelcome = "Hello!"
2. friendlyWelcome = "Bonjour!"
3. // friendlyWelcome is now "Bonjour!"
```

ä¸å˜é‡ä¸åŒï¼Œå¸¸é‡çš„å€¼åœ¨è®¾ç½®åæ— æ³•æ›´æ”¹ã€‚ç¼–è¯‘ä»£ç æ—¶ï¼Œå°è¯•è¿™æ ·åšå°†æŠ¥å‘Šä¸ºé”™è¯¯ï¼š

```swift
1. let languageName = "Swift"
2. languageName = "Swift++"
3. // This is a compile-time error: languageName cannot be changed.
```

### æ‰“å°å¸¸é‡å’Œå˜é‡

æ‚¨å¯ä»¥ä½¿ç”¨`print(_:separator:terminator:)`å‡½æ•°æ‰“å°å¸¸é‡æˆ–å˜é‡çš„å½“å‰å€¼ï¼š

```swift
print(friendlyWelcome)
// Prints "Bonjour!"
```

`print(_:separator:terminator:)`å‡½æ•°æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œå°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ‰“å°åˆ°é€‚å½“çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œåœ¨Xcodeä¸­ï¼Œ`print(_:separator:terminator:)`å‡½æ•°åœ¨Xcodeçš„â€œæ§åˆ¶å°â€çª—æ ¼ä¸­æ‰“å°å…¶è¾“å‡ºã€‚`separator`å’Œ`terminator`å‚æ•°å…·æœ‰é»˜è®¤å€¼ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨è°ƒç”¨æ­¤å‡½æ•°æ—¶çœç•¥å®ƒä»¬ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‡½æ•°é€šè¿‡æ·»åŠ æ¢è¡Œç¬¦æ¥ç»ˆæ­¢å…¶æ‰“å°çš„è¡Œã€‚è¦æ‰“å°åæ²¡æœ‰æ¢è¡Œç¬¦çš„å€¼ï¼Œè¯·ä¼ é€’ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä½œä¸ºç»ˆæ­¢ç¬¦â€”â€”ä¾‹å¦‚ï¼Œ`print(someValue,terminator:"")`ã€‚æœ‰å…³å…·æœ‰é»˜è®¤å€¼çš„å‚æ•°çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…[é»˜è®¤å‚æ•°å€¼](https://docs.swift.org/swift-book/LanguageGuide/Functions.html#ID169)ã€‚

Swiftä½¿ç”¨*å­—ç¬¦ä¸²æ’å€¼*å°†å¸¸é‡æˆ–å˜é‡çš„åç§°ä½œä¸ºå ä½ç¬¦åŒ…å«åœ¨è¾ƒé•¿çš„å­—ç¬¦ä¸²ä¸­ï¼Œå¹¶æç¤ºSwiftå°†å…¶æ›¿æ¢ä¸ºè¯¥å¸¸é‡æˆ–å˜é‡çš„å½“å‰å€¼ã€‚å°†åç§°åŒ…è£…åœ¨æ‹¬å·ä¸­ï¼Œå¹¶åœ¨å¼€å¤´æ‹¬å·å‰ç”¨åæ–œæ è½¬ä¹‰ï¼š

```swift
print("The current value of friendlyWelcome is \(friendlyWelcome)")
// Prints "The current value of friendlyWelcome is Bonjour!"
```

> æ³¨æ„
>
> å¯ç”¨äºå­—ç¬¦ä¸²æ’å€¼çš„æ‰€æœ‰é€‰é¡¹éƒ½åœ¨[å­—ç¬¦ä¸²æ’å€¼](https://docs.swift.org/swift-book/LanguageGuide/StringsAndCharacters.html#ID292)ä¸­æè¿°ã€‚

## æ³¨é‡Š

ä½¿ç”¨æ³¨é‡Šåœ¨æ‚¨çš„ä»£ç ä¸­åŒ…å«ä¸å¯æ‰§è¡Œçš„æ–‡æœ¬ï¼Œä½œä¸ºå¯¹æ‚¨è‡ªå·±çš„ä¾¿æ¡æˆ–æé†’ã€‚ç¼–è¯‘ä»£ç æ—¶ï¼ŒSwiftç¼–è¯‘å™¨ä¼šå¿½ç•¥æ³¨é‡Šã€‚

Swift ä¸­çš„æ³¨é‡Šä¸ C ä¸­çš„æ³¨é‡Šéå¸¸ç›¸ä¼¼ã€‚å•è¡Œæ³¨é‡Šä»¥ä¸¤ä¸ªæ­£æ–œæ ï¼ˆ`//`ï¼‰å¼€å¤´ï¼š

```swift
// This is a comment.
```

å¤šè¡Œæ³¨é‡Šä»¥å‰æ–œæ åè·Ÿæ˜Ÿå·ï¼ˆ`/*`ï¼‰å¼€å§‹ï¼Œä»¥æ˜Ÿå·åè·Ÿå‰æ–œæ ï¼ˆ`*/`ï¼‰ç»“æŸï¼š

```swift
/* This is also a comment
but is written over multiple lines. */
```

ä¸Cä¸­çš„å¤šè¡Œæ³¨é‡Šä¸åŒï¼ŒSwiftä¸­çš„å¤šè¡Œæ³¨é‡Šå¯ä»¥åµŒå¥—åœ¨å…¶ä»–å¤šè¡Œæ³¨é‡Šä¸­ã€‚æ‚¨å¯ä»¥é€šè¿‡å¯åŠ¨å¤šè¡Œæ³¨é‡Šå—ï¼Œç„¶ååœ¨ç¬¬ä¸€ä¸ªå—ä¸­å¯åŠ¨ç¬¬äºŒä¸ªå¤šè¡Œæ³¨é‡Šæ¥ç¼–å†™åµŒå¥—æ³¨é‡Šã€‚ç„¶åå…³é—­ç¬¬äºŒä¸ªå—ï¼Œç„¶åæ˜¯ç¬¬ä¸€ä¸ªå—ï¼š

```swift
/* This is the start of the first multiline comment.
/* This is the second, nested multiline comment. */
This is the end of the first multiline comment. */
```

åµŒå¥—çš„å¤šè¡Œæ³¨é‡Šä½¿æ‚¨å¯ä»¥å¿«é€Ÿè½»æ¾åœ°æ³¨é‡Šå¤§å—ä»£ç ï¼Œå³ä½¿ä»£ç å·²ç»åŒ…å«å¤šè¡Œæ³¨é‡Šã€‚

## åˆ†å·(;)

ä¸è®¸å¤šå…¶ä»–è¯­è¨€ä¸åŒï¼ŒSwiftä¸è¦æ±‚æ‚¨åœ¨ä»£ç ä¸­çš„æ¯ä¸ªè¯­å¥åç¼–å†™åˆ†å·ï¼ˆ`;`ï¼‰ï¼Œå°½ç®¡å¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨å¯ä»¥è¿™æ ·åšã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³åœ¨ä¸€è¡Œä¸Šå†™å¤šä¸ªå•ç‹¬çš„è¯­å¥ï¼Œ*åˆ™*éœ€è¦åˆ†å·ï¼š

```swift
let cat = "ğŸ±"; print(cat)
// Prints "ğŸ±"
```

## æ•´æ•°(Integers)

*æ•´æ•°*æ˜¯æ²¡æœ‰å°æ•°åˆ†é‡çš„æ•´æ•°ï¼Œä¾‹å¦‚`42`å’Œ`-23`ã€‚æ•´æ•°è¦ä¹ˆæ˜¯*æœ‰ç¬¦å·*ï¼ˆæ­£æ•°ã€é›¶æˆ–è´Ÿæ•°ï¼‰ï¼Œè¦ä¹ˆ*æ— ç¬¦å·*ï¼ˆæ­£æ•°æˆ–é›¶ï¼‰ã€‚

Swiftä»¥8ã€16ã€32å’Œ64ä½å½¢å¼æä¾›æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ã€‚è¿™äº›æ•´æ•°éµå¾ªç±»ä¼¼äºCçš„å‘½åçº¦å®šï¼Œå³8ä½æ— ç¬¦å·æ•´æ•°ç±»å‹ä¸º`UInt8`ï¼Œ32ä½æœ‰ç¬¦å·æ•´æ•°ç±»å‹ä¸º`Int32`ã€‚ä¸ Swift ä¸­çš„æ‰€æœ‰ç±»å‹ä¸€æ ·ï¼Œè¿™äº›æ•´æ•°ç±»å‹éƒ½æœ‰å¤§å†™åç§°ã€‚

### æ•´æ•°è¾¹ç•Œ(Integer Bounds)

æ‚¨å¯ä»¥è®¿é—®æ¯ç§æ•´æ•°ç±»å‹çš„æœ€å°å€¼å’Œæœ€å¤§å€¼åŠå…¶`min`å’Œ`max`ï¼š

```swift
let minValue = UInt8.min  // minValue is equal to 0, and is of type UInt8
let maxValue = UInt8.max  // maxValue is equal to 255, and is of type UInt8
```

è¿™äº›å±æ€§çš„å€¼æ˜¯é€‚å½“å¤§å°çš„æ•°å­—ç±»å‹ï¼ˆå¦‚ä¸Šé¢ç¤ºä¾‹ä¸­çš„`UInt8`ï¼‰ï¼Œå› æ­¤å¯ä»¥ä¸ç›¸åŒç±»å‹çš„å…¶ä»–å€¼ä¸€èµ·ç”¨äºè¡¨è¾¾å¼ã€‚

### Int

åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨ä¸éœ€è¦é€‰æ‹©ç‰¹å®šå¤§å°çš„æ•´æ•°æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚Swiftæä¾›äº†ä¸€ç§é¢å¤–çš„æ•´æ•°ç±»å‹`Int`ï¼Œå…¶å¤§å°ä¸å½“å‰å¹³å°çš„åŸç”Ÿå•è¯å¤§å°ç›¸åŒï¼š

- åœ¨32ä½å¹³å°ä¸Šï¼Œ`Int`ä¸`Int32`çš„å¤§å°ç›¸åŒã€‚
- åœ¨64ä½å¹³å°ä¸Šï¼Œ`Int`ä¸`Int64`çš„å¤§å°ç›¸åŒã€‚

é™¤éæ‚¨éœ€è¦ä½¿ç”¨ç‰¹å®šå¤§å°çš„æ•´æ•°ï¼Œå¦åˆ™è¯·å§‹ç»ˆä½¿ç”¨`Int`æ¥å¤„ç†ä»£ç ä¸­çš„æ•´æ•°å€¼ã€‚è¿™æœ‰åŠ©äºä»£ç ä¸€è‡´æ€§å’Œäº’æ“ä½œæ€§ã€‚å³ä½¿åœ¨32ä½å¹³å°ä¸Šï¼Œ`Int`ä¹Ÿå¯ä»¥å­˜å‚¨åœ¨`-2,147,483,648`å’Œ`2,147,483,647`ä¹‹é—´çš„ä»»ä½•å€¼ï¼Œå¹¶ä¸”å¯¹äºè®¸å¤šæ•´æ•°èŒƒå›´æ¥è¯´è¶³å¤Ÿå¤§ã€‚

### UInt

Swiftè¿˜æä¾›äº†ä¸€ç§æ— ç¬¦å·æ•´æ•°ç±»å‹`UInt`ï¼Œå…¶å¤§å°ä¸å½“å‰å¹³å°çš„åŸç”Ÿå•è¯å¤§å°ç›¸åŒï¼š

- åœ¨32ä½å¹³å°ä¸Šï¼Œ`UInt`ä¸`UInt32`çš„å¤§å°ç›¸åŒã€‚
- åœ¨64ä½å¹³å°ä¸Šï¼Œ`UInt`ä¸`UInt64`çš„å¤§å°ç›¸åŒã€‚

> æ³¨æ„
>
> ä»…å½“æ‚¨ç‰¹åˆ«éœ€è¦ä¸å¹³å°åŸç”Ÿå•è¯å¤§å°ç›¸åŒçš„æ— ç¬¦å·æ•´æ•°ç±»å‹æ—¶ï¼Œæ‰ä½¿ç”¨`UInt`ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œæœ€å¥½æ˜¯`Int`ï¼Œå³ä½¿å·²çŸ¥è¦å­˜å‚¨çš„å€¼æ˜¯éè´Ÿå€¼ã€‚ä¸€è‡´åœ°ä½¿ç”¨`Int`è¿›è¡Œæ•´æ•°å€¼æœ‰åŠ©äºä»£ç äº’æ“ä½œæ€§ï¼Œé¿å…åœ¨ä¸åŒæ•°å­—ç±»å‹ä¹‹é—´è½¬æ¢ï¼Œå¹¶åŒ¹é…æ•´æ•°ç±»å‹æ¨æ–­ï¼Œå¦‚[ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html#ID322)æ‰€è¿°ã€‚

## æµ®ç‚¹æ•°

*æµ®ç‚¹æ•°*æ˜¯å…·æœ‰å°æ•°åˆ†é‡çš„æ•°å­—ï¼Œå¦‚`3.14159`ã€`0.1`å’Œ`-273.15`ã€‚

æµ®ç‚¹ç±»å‹å¯ä»¥è¡¨ç¤ºæ¯”æ•´æ•°ç±»å‹æ›´å¹¿æ³›çš„å€¼èŒƒå›´ï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨æ¯”`Int`ä¸­å­˜å‚¨çš„è¦å¤§å¾—å¤šæˆ–å°å¾—å¤šçš„æ•°å­—ã€‚Swiftæä¾›äº†ä¸¤ç§æœ‰ç¬¦å·æµ®ç‚¹æ•°ç±»å‹ï¼š

- `Double`è¡¨ç¤º64ä½æµ®ç‚¹æ•°ã€‚
- `Float`è¡¨ç¤º32ä½æµ®ç‚¹æ•°ã€‚

> æ³¨æ„
>
> `Double`ç²¾åº¦è‡³å°‘ä¸ºå°æ•°ç‚¹å15ä½ï¼Œè€Œ`Float`çš„ç²¾åº¦å¯ä»¥å°åˆ°å°æ•°ç‚¹å6ä½ã€‚è¦ä½¿ç”¨çš„åˆé€‚æµ®ç‚¹ç±»å‹å–å†³äºæ‚¨éœ€è¦åœ¨ä»£ç ä¸­ä½¿ç”¨çš„å€¼çš„æ€§è´¨å’ŒèŒƒå›´ã€‚åœ¨è¿™ä¸¤ç§ç±»å‹åˆé€‚çš„æƒ…å†µä¸‹ï¼Œé¦–é€‰`Double`ã€‚

## ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­

Swiftæ˜¯ä¸€ç§*ç±»å‹å®‰å…¨çš„*è¯­è¨€ã€‚ç±»å‹å®‰å…¨è¯­è¨€é¼“åŠ±æ‚¨æ˜ç¡®ä»£ç å¯ä»¥ä½¿ç”¨çš„å€¼ç±»å‹ã€‚å¦‚æœæ‚¨çš„éƒ¨åˆ†ä»£ç éœ€è¦`String`ï¼Œåˆ™ä¸èƒ½é”™è¯¯åœ°å°†å…¶ä¼ é€’ç»™`Int`ã€‚

ç”±äºSwiftæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå®ƒåœ¨ç¼–è¯‘ä»£ç æ—¶æ‰§è¡Œ*ç±»å‹æ£€æŸ¥ï¼Œ*å¹¶å°†ä»»ä½•ä¸åŒ¹é…çš„ç±»å‹æ ‡è®°ä¸ºé”™è¯¯ã€‚è¿™ä½¿æ‚¨èƒ½å¤Ÿå°½æ—©åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ•è·å’Œä¿®å¤é”™è¯¯ã€‚

ç±»å‹æ£€æŸ¥å¯å¸®åŠ©æ‚¨åœ¨å¤„ç†ä¸åŒç±»å‹çš„å€¼æ—¶é¿å…é”™è¯¯ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ç€æ‚¨å¿…é¡»æŒ‡å®šæ‚¨å£°æ˜çš„æ¯ä¸ªå¸¸é‡å’Œå˜é‡çš„ç±»å‹ã€‚å¦‚æœæ‚¨æ²¡æœ‰æŒ‡å®šæ‰€éœ€çš„å€¼ç±»å‹ï¼ŒSwiftä¼šä½¿ç”¨*ç±»å‹æ¨æ–­*æ¥è®¡ç®—é€‚å½“çš„ç±»å‹ã€‚ç±»å‹æ¨æ–­ä½¿ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»£ç æ—¶èƒ½å¤Ÿè‡ªåŠ¨æ¨æ–­ç‰¹å®šè¡¨è¾¾å¼çš„ç±»å‹ï¼Œåªéœ€æ£€æŸ¥æ‚¨æä¾›çš„å€¼ã€‚

ç”±äºç±»å‹æ¨æ–­ï¼ŒSwiftéœ€è¦çš„ç±»å‹å£°æ˜æ¯”Cæˆ–Objective-Cç­‰è¯­è¨€å°‘å¾—å¤šã€‚å¸¸é‡å’Œå˜é‡ä»ç„¶æ˜¯æ˜¾å¼ç±»å‹ï¼Œä½†æŒ‡å®šå…¶ç±»å‹çš„å¤§éƒ¨åˆ†å·¥ä½œéƒ½æ˜¯ä¸ºæ‚¨å®Œæˆçš„ã€‚

å½“æ‚¨å£°æ˜å…·æœ‰åˆå§‹å€¼çš„å¸¸é‡æˆ–å˜é‡æ—¶ï¼Œç±»å‹æ¨æ–­ç‰¹åˆ«æœ‰ç”¨ã€‚è¿™é€šå¸¸é€šè¿‡åœ¨æ‚¨å£°æ˜å¸¸é‡æˆ–å˜é‡æ—¶ä¸ºå¸¸é‡æˆ–å˜é‡åˆ†é…*å­—é¢å€¼*ï¼ˆæˆ–*å­—é¢å€¼*ï¼‰æ¥å®Œæˆã€‚ï¼ˆå­—é¢å€¼æ˜¯ç›´æ¥å‡ºç°åœ¨æºä»£ç ä¸­çš„å€¼ï¼Œä¾‹å¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„`42`å’Œ`3.14159`ã€‚ï¼‰

ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨ä¸è¯´æ˜ç±»å‹çš„æƒ…å†µä¸‹ä¸ºæ–°å¸¸é‡åˆ†é…`42`çš„å­—é¢å€¼ï¼ŒSwiftæ¨æ–­æ‚¨å¸Œæœ›è¯¥å¸¸é‡ä¸º`Int`ï¼Œå› ä¸ºæ‚¨å·²ç»ç”¨ä¸€ä¸ªçœ‹èµ·æ¥åƒæ•´æ•°çš„æ•°å­—åˆå§‹åŒ–äº†å®ƒï¼š

```swift
let meaningOfLife = 42
// meaningOfLife is inferred to be of type Int
```

åŒæ ·ï¼Œå¦‚æœæ‚¨æ²¡æœ‰ä¸ºæµ®ç‚¹æ–‡å­—æŒ‡å®šç±»å‹ï¼ŒSwiftæ¨æ–­æ‚¨æƒ³åˆ›å»ºä¸€ä¸ª`Double`ï¼š

```swift
let pi = 3.14159
// pi is inferred to be of type Double
```

Swiftåœ¨æ¨æ–­æµ®ç‚¹æ•°ç±»å‹æ—¶æ€»æ˜¯é€‰æ‹©`Double`ï¼ˆè€Œä¸æ˜¯`Float`ï¼‰ã€‚

å¦‚æœæ‚¨åœ¨è¡¨è¾¾å¼ä¸­ç»„åˆæ•´æ•°å’Œæµ®ç‚¹æ–‡å­—ï¼Œåˆ™å°†ä»ä¸Šä¸‹æ–‡ä¸­æ¨æ–­å‡ºä¸€ç§`Double`ç±»å‹ï¼š

```swift
let anotherPi = 3 + 0.14159
// anotherPi is also inferred to be of type Double
```

`3`çš„å­—é¢å€¼æœ¬èº«æ²¡æœ‰æ˜¾å¼ç±»å‹ï¼Œå› æ­¤ä»æµ®ç‚¹å­—é¢å€¼çš„å­˜åœ¨ä¸­æ¨æ–­å‡ºé€‚å½“çš„`Double`è¾“å‡ºç±»å‹ä½œä¸ºåŠ æ³•çš„ä¸€éƒ¨åˆ†ã€‚

## æ•°å­—æ–‡å­—

æ•´æ•°æ–‡å­—å¯ä»¥å†™æˆï¼š

- æ²¡æœ‰å‰ç¼€*çš„å°æ•°*
- å¸¦æœ‰`0b`å‰ç¼€çš„*äºŒè¿›åˆ¶*æ•°å­—
- ä¸€ä¸ª*å…«åº¦*æ•°ï¼Œå‰ç¼€ä¸º`0o`
- *åå…­è¿›åˆ¶*æ•°å­—ï¼Œå‰ç¼€ä¸º`0x`

æ‰€æœ‰è¿™äº›æ•´æ•°æ–‡å­—çš„åè¿›åˆ¶å€¼ä¸º`17`ï¼š

```swift
let decimalInteger = 17
let binaryInteger = 0b10001       // 17 in binary notation
let octalInteger = 0o21           // 17 in octal notation
let hexadecimalInteger = 0x11     // 17 in hexadecimal notation
```

æµ®ç‚¹æ–‡å­—å¯ä»¥æ˜¯åè¿›åˆ¶ï¼ˆæ²¡æœ‰å‰ç¼€ï¼‰æˆ–åå…­è¿›åˆ¶ï¼ˆå¸¦æœ‰`0x`å‰ç¼€ï¼‰ã€‚å®ƒä»¬å¿…é¡»åœ¨å°æ•°ç‚¹çš„ä¸¤ä¾§å§‹ç»ˆæœ‰ä¸€ä¸ªæ•°å­—ï¼ˆæˆ–åå…­è¿›åˆ¶æ•°å­—ï¼‰ã€‚åè¿›åˆ¶æµ®ç‚¹æ•°ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªå¯é€‰çš„*æŒ‡æ•°*ï¼Œç”¨å¤§å†™æˆ–å°å†™`e`è¡¨ç¤ºï¼›åå…­è¿›åˆ¶æµ®ç‚¹å¿…é¡»æœ‰ä¸€ä¸ªæŒ‡æ•°ï¼Œç”¨å¤§å†™æˆ–å°å†™`p`è¡¨ç¤ºã€‚

å¯¹äºæŒ‡æ•°ä¸º`exp`çš„å°æ•°ï¼ŒåŸºæ•°ä¹˜ä»¥10expï¼š

- `1.25e2`æ„æ€æ˜¯1.25 x 102ï¼Œæˆ–`125.0`ã€‚
- `1.25e-2`æ„æ€æ˜¯1.25 x 10-2ï¼Œæˆ–`0.0125`ã€‚

å¯¹äºæŒ‡æ•°ä¸º`exp`çš„åå…­è¿›åˆ¶æ•°å­—ï¼ŒåŸºæ•°ä¹˜ä»¥2expï¼š

- `0xFp2`æ„æ€æ˜¯15 x 22æˆ–`60.0`ã€‚
- `0xFp-2`æ„æ€æ˜¯15 x 2-2ï¼Œæˆ–`3.75`ã€‚

æ‰€æœ‰è¿™äº›æµ®ç‚¹æ–‡å­—çš„åè¿›åˆ¶å€¼ä¸º`12.1875`ï¼š

```swift
let decimalDouble = 12.1875
let exponentDouble = 1.21875e1
let hexadecimalDouble = 0xC.3p0
```

æ•°å­—æ–‡å­—å¯ä»¥åŒ…å«é¢å¤–çš„æ ¼å¼ï¼Œä½¿å…¶æ›´å®¹æ˜“é˜…è¯»ã€‚æ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å¯ä»¥ç”¨é¢å¤–çš„é›¶å¡«å……ï¼Œå¹¶å¯ä»¥åŒ…å«ä¸‹åˆ’çº¿ï¼Œä»¥å¸®åŠ©æé«˜å¯è¯»æ€§ã€‚è¿™ä¸¤ç§æ ¼å¼éƒ½ä¸ä¼šå½±å“æ–‡å­—çš„åŸºæœ¬å€¼ï¼š

```swift
let paddedDouble = 000123.456
let oneMillion = 1_000_000
let justOverOneMillion = 1_000_000.000_000_1
```

## æ•°å­—ç±»å‹è½¬æ¢

å¯¹äºä»£ç ä¸­çš„æ‰€æœ‰é€šç”¨æ•´æ•°å¸¸é‡å’Œå˜é‡ï¼Œå³ä½¿å·²çŸ¥å®ƒä»¬æ˜¯éè´Ÿæ•°ï¼Œä¹Ÿè¯·ä½¿ç”¨`Int`ç±»å‹ã€‚åœ¨æ—¥å¸¸æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤æ•´æ•°ç±»å‹æ„å‘³ç€æ•´æ•°å¸¸é‡å’Œå˜é‡åœ¨æ‚¨çš„ä»£ç ä¸­ç«‹å³äº’æ“ä½œï¼Œå¹¶å°†ä¸æ•´æ•°å­—é¢å€¼çš„æ¨æ–­ç±»å‹åŒ¹é…ã€‚

ä»…åœ¨æ‰‹å¤´ä»»åŠ¡ç‰¹åˆ«éœ€è¦æ—¶ä½¿ç”¨å…¶ä»–æ•´æ•°ç±»å‹ï¼Œå› ä¸ºå¤–éƒ¨æ¥æºçš„æ•°æ®æ˜¾å¼å¤§å°ï¼Œæˆ–ç”¨äºæ€§èƒ½ã€å†…å­˜ä½¿ç”¨æˆ–å…¶ä»–å¿…è¦çš„ä¼˜åŒ–ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ˜¾å¼å¤§å°çš„ç±»å‹æœ‰åŠ©äºæ•è·ä»»ä½•æ„å¤–å€¼æº¢å‡ºï¼Œå¹¶éšå¼è®°å½•æ‰€ç”¨æ•°æ®çš„æ€§è´¨ã€‚

### æ•´æ•°è½¬æ¢

å¯ä»¥å­˜å‚¨åœ¨æ•´æ•°å¸¸æ•°æˆ–å˜é‡ä¸­çš„æ•°å­—èŒƒå›´å› æ¯ç§æ•°å­—ç±»å‹è€Œå¼‚ã€‚`Int8`å¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨`-128`å’Œ`127`ä¹‹é—´çš„æ•°å­—ï¼Œè€Œ`UInt8`å¸¸é‡æˆ–å˜é‡å¯ä»¥å­˜å‚¨`0`åˆ°`255`ä¹‹é—´çš„æ•°å­—ã€‚ç¼–è¯‘ä»£ç æ—¶ï¼Œä¸é€‚åˆå¤§å°æ•´æ•°ç±»å‹çš„å¸¸é‡æˆ–å˜é‡çš„æ•°å­—å°†æŠ¥å‘Šä¸ºé”™è¯¯ï¼š

```swift
let cannotBeNegative: UInt8 = -1
// UInt8 can't store negative numbers, and so this will report an error
let tooBig: Int8 = Int8.max + 1
// Int8 can't store a number larger than its maximum value,
// and so this will also report an error
```

ç”±äºæ¯ç§æ•°å­—ç±»å‹å¯ä»¥å­˜å‚¨ä¸åŒèŒƒå›´çš„å€¼ï¼Œå› æ­¤æ‚¨å¿…é¡»æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©æ•°å­—ç±»å‹è½¬æ¢ã€‚è¿™ç§é€‰æ‹©åŠ å…¥æ–¹æ³•å¯ä»¥é˜²æ­¢éšè—çš„è½¬æ¢é”™è¯¯ï¼Œå¹¶æœ‰åŠ©äºåœ¨ä»£ç ä¸­æ˜ç¡®ç±»å‹è½¬æ¢æ„å›¾ã€‚

è¦å°†ä¸€ç§ç‰¹å®šæ•°å­—ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç‰¹å®šæ•°å­—ç±»å‹ï¼Œè¯·ä½¿ç”¨ç°æœ‰å€¼åˆå§‹åŒ–æ‰€éœ€ç±»å‹çš„æ–°æ•°å­—ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¸¸é‡`twoThousand`æ˜¯ç±»å‹`UInt16`ï¼Œè€Œå¸¸æ•°æ˜¯`UInt8`ç±»å‹ã€‚å®ƒä»¬ä¸èƒ½ç›´æ¥æ·»åŠ åœ¨ä¸€èµ·ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯åŒä¸€ç±»å‹ã€‚ç›¸åï¼Œæ­¤ç¤ºä¾‹è°ƒç”¨`UInt16(one)`åˆ›å»ºä¸€ä¸ªæ–°çš„`UInt16`ï¼Œåˆå§‹åŒ–ä¸º`one`ï¼Œå¹¶ä½¿ç”¨æ­¤å€¼ä»£æ›¿åŸå§‹å€¼ï¼š

```swift
let twoThousand: UInt16 = 2_000
let one: UInt8 = 1
let twoThousandAndOne = twoThousand + UInt16(one)
```

ç”±äºæ·»åŠ çš„ä¸¤ä¾§ç°åœ¨éƒ½æ˜¯`UInt16`ç±»å‹ï¼Œå› æ­¤å…è®¸æ·»åŠ ã€‚è¾“å‡ºå¸¸æ•°ï¼ˆ`twoThousandAndOne`ï¼‰è¢«æ¨æ–­ä¸º`UInt16`ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯ä¸¤ä¸ª`UInt16`å€¼çš„æ€»å’Œã€‚

`SomeType(ofInitialValue)`æ˜¯è°ƒç”¨Swiftç±»å‹çš„åˆå§‹åŒ–å™¨å¹¶ä¼ é€’åˆå§‹å€¼çš„é»˜è®¤æ–¹å¼ã€‚åœ¨å¹•åï¼Œ`UInt16`æœ‰ä¸€ä¸ªæ¥å—`UInt8`å€¼çš„åˆå§‹åŒ–å™¨ï¼Œå› æ­¤æ­¤åˆå§‹åŒ–å™¨ç”¨äºä»ç°æœ‰çš„`UInt8`åˆ¶ä½œæ–°çš„`UInt16`ã€‚ç„¶è€Œï¼Œæ‚¨ä¸èƒ½åœ¨è¿™é‡Œä¼ é€’*ä»»ä½•*ç±»å‹â€”â€”å®ƒå¿…é¡»æ˜¯`UInt16`æä¾›åˆå§‹åŒ–å™¨çš„ç±»å‹ã€‚æ‰©å±•æ¶µç›–äº†æ‰©å±•ç°æœ‰ç±»å‹ä»¥æä¾›æ¥å—æ–°ç±»å‹ï¼ˆåŒ…æ‹¬æ‚¨è‡ªå·±çš„ç±»å‹å®šä¹‰ï¼‰çš„åˆå§‹åŒ–[å™¨](https://docs.swift.org/swift-book/LanguageGuide/Extensions.html)ã€‚

### æ•´æ•°å’Œæµ®ç‚¹è½¬æ¢

æ•´æ•°å’Œæµ®ç‚¹æ•°å­—ç±»å‹ä¹‹é—´çš„è½¬æ¢å¿…é¡»æ˜ç¡®ï¼š

```swift
let three = 3
let pointOneFourOneFiveNine = 0.14159
let pi = Double(three) + pointOneFourOneFiveNine
// pi equals 3.14159, and is inferred to be of type Double
```

åœ¨è¿™é‡Œï¼Œå¸¸æ•°`three`çš„å€¼ç”¨äºåˆ›å»º`Double`ç±»å‹çš„æ–°å€¼ï¼Œä»¥ä¾¿åŠ æ³•çš„ä¸¤ä¾§éƒ½æ˜¯ç›¸åŒçš„ç±»å‹ã€‚å¦‚æœæ²¡æœ‰è¿™ç§è½¬æ¢ï¼Œå°†ä¸å…è®¸æ·»åŠ ã€‚

æµ®ç‚¹åˆ°æ•´æ•°è½¬æ¢ä¹Ÿå¿…é¡»æ˜ç¡®ã€‚æ•´æ•°ç±»å‹å¯ä»¥ç”¨`Double`æˆ–`Float`å€¼åˆå§‹åŒ–ï¼š

```swift
let integerPi = Int(pi)
// integerPi equals 3, and is inferred to be of type Int
```

å½“ç”¨äºä»¥è¿™ç§æ–¹å¼åˆå§‹åŒ–æ–°çš„æ•´æ•°å€¼æ—¶ï¼Œæµ®ç‚¹å€¼æ€»æ˜¯è¢«æˆªæ–­ã€‚è¿™æ„å‘³ç€`4.75`å˜æˆ4ï¼Œ`-3.9`å˜æˆ`-3`ã€‚

> æ³¨æ„
>
> ç»„åˆæ•°å­—å¸¸æ•°å’Œå˜é‡çš„è§„åˆ™ä¸æ•°å­—æ–‡å­—çš„è§„åˆ™ä¸åŒã€‚å­—é¢å€¼`3`å¯ä»¥ç›´æ¥æ·»åŠ åˆ°å­—é¢å€¼`0.14159`ä¸­ï¼Œå› ä¸ºæ•°å­—æ–‡å­—æœ¬èº«æ²¡æœ‰æ˜¾å¼ç±»å‹ã€‚åªæœ‰åœ¨ç¼–è¯‘å™¨è¯„ä¼°å®ƒä»¬æ—¶ï¼Œæ‰ä¼šæ¨æ–­å‡ºå®ƒä»¬çš„ç±»å‹ã€‚

## ç±»å‹åˆ«å

*ç±»å‹åˆ«å*å®šä¹‰äº†ç°æœ‰ç±»å‹çš„æ›¿ä»£åç§°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`typealias`å…³é”®å­—å®šä¹‰ç±»å‹åˆ«åã€‚

å½“æ‚¨æƒ³ç”¨ä¸Šä¸‹æ–‡æ›´åˆé€‚çš„åç§°å¼•ç”¨ç°æœ‰ç±»å‹æ—¶ï¼Œä¾‹å¦‚åœ¨å¤„ç†æ¥è‡ªå¤–éƒ¨æ¥æºçš„ç‰¹å®šå¤§å°çš„æ•°æ®æ—¶ï¼Œç±»å‹åˆ«åéå¸¸æœ‰ç”¨ï¼š

```swift
typealias AudioSample = UInt16
```

å®šä¹‰ç±»å‹åˆ«ååï¼Œæ‚¨å¯ä»¥åœ¨å¯èƒ½ä½¿ç”¨åŸå§‹åç§°çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨åˆ«åï¼š

```swift
var maxAmplitudeFound = AudioSample.min
// maxAmplitudeFound is now 0
```

åœ¨è¿™é‡Œï¼Œ`AudioSample`è¢«å®šä¹‰ä¸º`UInt16`çš„åˆ«åã€‚ç”±äºå®ƒæ˜¯ä¸€ä¸ªåˆ«åï¼Œå¯¹`AudioSample.min`çš„è°ƒç”¨å®é™…ä¸Šè°ƒç”¨`UInt16.min`ï¼Œå®ƒä¸º`maxAmplitudeFound`å˜é‡æä¾›äº†åˆå§‹å€¼`0`ã€‚

## å¸ƒå°”å€¼(Booleans)

Swiftæœ‰ä¸€ä¸ªåŸºæœ¬çš„*å¸ƒå°”*ç±»å‹ï¼Œç§°ä¸º`Bool`ã€‚å¸ƒå°”å€¼è¢«ç§°ä¸º*é€»è¾‘å€¼*ï¼Œå› ä¸ºå®ƒä»¬åªèƒ½æ˜¯çœŸæˆ–å‡ã€‚Swiftæä¾›äº†ä¸¤ä¸ªå¸ƒå°”å¸¸é‡å€¼ï¼Œ`true`å’Œ`false`ï¼š

```swift
let orangesAreOrange = true
let turnipsAreDelicious = false
```

 `orangesAreOrange` å’Œ `turnnipsaredelicious` çš„ç±»å‹è¢«æ¨æ–­ä¸º`Bool`ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”¨å¸ƒå°”å€¼åˆå§‹åŒ–çš„ã€‚ä¸ä¸Šé¢çš„' Int 'å’Œ' Double 'ä¸€æ ·ï¼Œå¦‚æœä½ åœ¨åˆ›å»ºå¸¸é‡æˆ–å˜é‡æ—¶å°†å®ƒä»¬è®¾ç½®ä¸º' true 'æˆ–' false 'ï¼Œä½ å°±ä¸éœ€è¦å°†å®ƒä»¬å£°æ˜ä¸º' Bool 'ã€‚å½“Swiftä½¿ç”¨å…¶ä»–å·²çŸ¥ç±»å‹çš„å€¼åˆå§‹åŒ–å¸¸é‡æˆ–å˜é‡æ—¶ï¼Œç±»å‹æ¨æ–­æœ‰åŠ©äºä½¿ä»£ç æ›´åŠ ç®€æ´å’Œå¯è¯»ã€‚

å½“æ‚¨ä½¿ç”¨æ¡ä»¶è¯­å¥ï¼ˆå¦‚`if`è¯­å¥ï¼‰æ—¶ï¼Œå¸ƒå°”å€¼ç‰¹åˆ«æœ‰ç”¨ï¼š

```swift
if turnipsAreDelicious {
    print("Mmm, tasty turnips!")
} else {
    print("Eww, turnips are horrible.")
}
// Prints "Eww, turnips are horrible."
```

[Control Flow](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html)æ›´è¯¦ç»†åœ°ä»‹ç»äº†æ¡ä»¶è¯­å¥ï¼Œå¦‚`if`è¯­å¥ã€‚

Swiftçš„ç±»å‹å®‰å…¨é˜²æ­¢éå¸ƒå°”å€¼è¢«æ›¿æ¢ä¸º`Bool`ã€‚ä»¥ä¸‹ç¤ºä¾‹æŠ¥å‘Šç¼–è¯‘æ—¶é”™è¯¯ï¼š

```swift
let i = 1
if i {
    // this example will not compile, and will report an error
}
```

ç„¶è€Œï¼Œä¸‹é¢çš„æ›¿ä»£ç¤ºä¾‹æ˜¯æœ‰æ•ˆçš„ï¼š

```swift
let i = 1
if i == 1 {
â€‹    // this example will compile successfully
}
```

The result of the `i == 1` comparison is of type `Bool`, and so this second example passes the type-check. Comparisons like `i == 1` are discussed in [Basic Operators](https://docs.swift.org/swift-book/LanguageGuide/BasicOperators.html).

ä¸ Swift ä¸­çš„å…¶ä»–ç±»å‹å®‰å…¨ç¤ºä¾‹ä¸€æ ·ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥é¿å…æ„å¤–é”™è¯¯ï¼Œå¹¶ç¡®ä¿ç‰¹å®šä»£ç éƒ¨åˆ†çš„æ„å›¾å§‹ç»ˆæ¸…æ™°ã€‚

## å…ƒç»„

*å…ƒç»„*å°†å¤šä¸ªå€¼åˆ†ç»„ä¸ºå•ä¸ªå¤åˆå€¼ã€‚å…ƒç»„ä¸­çš„å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œä¸å¿…æ˜¯å½¼æ­¤ç›¸åŒçš„ç±»å‹ã€‚

åœ¨æœ¬ä¾‹ä¸­ï¼Œ`(404,"NotFound")`æ˜¯æè¿°*HTTPçŠ¶æ€ä»£ç *çš„å…ƒç»„ã€‚HTTPçŠ¶æ€ä»£ç æ˜¯WebæœåŠ¡å™¨åœ¨è¯·æ±‚ç½‘é¡µæ—¶è¿”å›çš„ç‰¹æ®Šå€¼ã€‚å¦‚æœæ‚¨è¯·æ±‚ä¸å­˜åœ¨çš„ç½‘é¡µï¼Œåˆ™è¿”å›`404NotFound`çš„çŠ¶æ€ä»£ç ã€‚

```swift
let http404Error = (404, "Not Found")
// http404Error is of type (Int, String), and equals (404, "Not Found")
```

`(404,"NotFound")`å…ƒç»„å°†ä¸€ä¸ª`Int`å’Œä¸€ä¸ª`String`ç»„åˆåœ¨ä¸€èµ·ï¼Œä¸ºHTTPçŠ¶æ€ä»£ç æä¾›ä¸¤ä¸ªå•ç‹¬çš„å€¼ï¼šæ•°å­—å’Œäººç±»å¯è¯»æè¿°ã€‚å®ƒå¯ä»¥è¢«æè¿°ä¸ºâ€œç±»å‹å…ƒç»„`(Int,String)`â€ã€‚

æ‚¨å¯ä»¥ä»ä»»ä½•ç±»å‹çš„æ’åˆ—ä¸­åˆ›å»ºå…ƒç»„ï¼Œå®ƒä»¬å¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„ä¸åŒç±»å‹ã€‚æ²¡æœ‰ä»€ä¹ˆå¯ä»¥é˜»æ­¢æ‚¨æ‹¥æœ‰ç±»å‹å…ƒç»„`(Int,Int,Int)`æˆ–`(String,Bool)`æˆ–è€…æ‚¨æ‰€éœ€çš„ä»»ä½•å…¶ä»–æ’åˆ—ã€‚

æ‚¨å¯ä»¥å°†å…ƒç»„çš„å†…å®¹*åˆ†è§£*ä¸ºå•ç‹¬çš„å¸¸é‡æˆ–å˜é‡ï¼Œç„¶ååƒå¾€å¸¸ä¸€æ ·è®¿é—®ï¼š

```swift
let (statusCode, statusMessage) = http404Error
print("The status code is \(statusCode)")
// Prints "The status code is 404"
print("The status message is \(statusMessage)")
// Prints "The status message is Not Found"
```

å¦‚æœæ‚¨åªéœ€è¦å…ƒç»„çš„ä¸€äº›å€¼ï¼Œè¯·åœ¨åˆ†è§£å…ƒç»„æ—¶å¿½ç•¥å¸¦ä¸‹åˆ’çº¿ï¼ˆ`_`ï¼‰çš„å…ƒç»„éƒ¨åˆ†ï¼š

```swift
let (justTheStatusCode, _) = http404Error
print("The status code is \(justTheStatusCode)")
// Prints "The status code is 404"
```

æˆ–è€…ï¼Œä½¿ç”¨ä»é›¶å¼€å§‹çš„ç´¢å¼•å·è®¿é—®å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ å€¼ï¼š

```swift
print("The status code is \(http404Error.0)")
// Prints "The status code is 404"
print("The status message is \(http404Error.1)")
// Prints "The status message is Not Found"
```

å½“å®šä¹‰å…ƒç»„æ—¶ï¼Œæ‚¨å¯ä»¥å‘½åå…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ ï¼š

```swift
let http200Status = (statusCode: 200, description: "OK")
```

å¦‚æœæ‚¨å‘½åå…ƒç»„ä¸­çš„å…ƒç´ ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…ƒç´ åç§°è®¿é—®è¿™äº›å…ƒç´ çš„å€¼ï¼š

```swift
print("The status code is \(http200Status.statusCode)")
// Prints "The status code is 200"
print("The status message is \(http200Status.description)")
// Prints "The status message is OK"
```

å…ƒç»„ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ç‰¹åˆ«æœ‰ç”¨ã€‚å°è¯•æ£€ç´¢ç½‘é¡µçš„å‡½æ•°å¯èƒ½ä¼šè¿”å›`(Int,String)`å…ƒç»„ç±»å‹ï¼Œä»¥æè¿°é¡µé¢æ£€ç´¢çš„æˆåŠŸæˆ–å¤±è´¥ã€‚é€šè¿‡è¿”å›å…·æœ‰ä¸¤ä¸ªä¸åŒå€¼çš„å…ƒç»„ï¼Œæ¯ä¸ªå€¼éƒ½å…·æœ‰ä¸åŒçš„ç±»å‹ï¼Œè¯¥å‡½æ•°æä¾›äº†æœ‰å…³å…¶ç»“æœçš„æ›´æœ‰ç”¨çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯åªèƒ½è¿”å›å•ä¸ªç±»å‹çš„å•ä¸ªå€¼ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[å…·æœ‰å¤šä¸ªè¿”å›å€¼çš„å‡½æ•°](https://docs.swift.org/swift-book/LanguageGuide/Functions.html#ID164)ã€‚

> æ³¨æ„
>
> å…ƒç»„å¯¹ç®€å•çš„ç›¸å…³å€¼ç»„éå¸¸æœ‰ç”¨ã€‚å®ƒä»¬ä¸é€‚åˆåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„ã€‚å¦‚æœæ‚¨çš„æ•°æ®ç»“æ„å¯èƒ½æ›´å¤æ‚ï¼Œè¯·å°†å…¶å»ºæ¨¡ä¸ºç±»æˆ–ç»“æ„ï¼Œè€Œä¸æ˜¯å…ƒç»„ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[ç»“æ„å’Œç±»](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html)ã€‚

## å¯é€‰

åœ¨å€¼å¯èƒ½ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨*å¯é€‰é€‰é¡¹*ã€‚å¯é€‰ä»£è¡¨ä¸¤ç§å¯èƒ½æ€§ï¼šè¦ä¹ˆæœ‰ä¸€ä¸ªå€¼ï¼Œä½ å¯ä»¥è§£å¼€å¯é€‰å€¼æ¥è®¿é—®è¯¥å€¼ï¼Œè¦ä¹ˆæ ¹æœ¬æ²¡æœ‰å€¼ã€‚

> æ³¨æ„
>
> Cæˆ–Objective-Cä¸­ä¸å­˜åœ¨å¯é€‰æ¦‚å¿µã€‚Objective-Cä¸­æœ€è¿‘çš„ä¸œè¥¿æ˜¯èƒ½å¤Ÿä»å¦åˆ™ä¼šè¿”å›å¯¹è±¡çš„æ–¹æ³•è¿”å›`nil`ï¼Œ`nil`çš„æ„æ€æ˜¯â€œæ²¡æœ‰æœ‰æ•ˆçš„å¯¹è±¡â€ã€‚ç„¶è€Œï¼Œè¿™ä»…é€‚ç”¨äºå¯¹è±¡ï¼Œä¸é€‚ç”¨äºç»“æ„ã€åŸºæœ¬Cç±»å‹æˆ–æšä¸¾å€¼ã€‚å¯¹äºè¿™äº›ç±»å‹ï¼ŒObjective-Cæ–¹æ³•é€šå¸¸ä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šå€¼ï¼ˆå¦‚`NSNotFound`ï¼‰ï¼Œä»¥æŒ‡ç¤ºæ²¡æœ‰å€¼ã€‚è¿™ç§æ–¹æ³•å‡è®¾æ–¹æ³•çš„è°ƒç”¨è€…çŸ¥é“æœ‰ä¸€ä¸ªç‰¹æ®Šå€¼éœ€è¦æµ‹è¯•ï¼Œå¹¶è®°å¾—æ£€æŸ¥å®ƒã€‚Swiftçš„å¯é€‰é€‰é¡¹å…è®¸æ‚¨æŒ‡ç¤º*ä»»ä½•ç±»å‹çš„*å€¼ï¼Œè€Œæ— éœ€ç‰¹æ®Šå¸¸é‡ã€‚

ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨å¯é€‰é€‰é¡¹æ¥åº”å¯¹å€¼ç¼ºå¤±çš„ç¤ºä¾‹ã€‚Swiftçš„sIntç±»å‹æœ‰ä¸€ä¸ªåˆå§‹åŒ–å™¨ï¼Œå°è¯•å°†`String`å€¼è½¬æ¢ä¸º`Int`å€¼ã€‚ç„¶è€Œï¼Œå¹¶éæ¯ä¸ªå­—ç¬¦ä¸²éƒ½å¯ä»¥è½¬æ¢ä¸ºæ•´æ•°ã€‚å­—ç¬¦ä¸²`"123"`å¯ä»¥è½¬æ¢ä¸ºæ•°å­—å€¼`123`ï¼Œä½†å­—ç¬¦ä¸²`"hello,world"`æ²¡æœ‰æ˜æ˜¾çš„æ•°å­—å€¼å¯ä»¥è½¬æ¢åˆ°ã€‚

ä¸‹é¢çš„ç¤ºä¾‹ä½¿ç”¨åˆå§‹åŒ–å™¨å°è¯•å°†`String`è½¬æ¢ä¸º`Int`ï¼š

```swift
let possibleNumber = "123"
let convertedNumber = Int(possibleNumber)
// convertedNumber is inferred to be of type "Int?", or "optional Int"
```

ç”±äºåˆå§‹åŒ–å™¨å¯èƒ½ä¼šå¤±è´¥ï¼Œå®ƒè¿”å›ä¸€ä¸ª*å¯é€‰*çš„`Int`ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª`Int`ã€‚å¯é€‰çš„`Int`å†™æˆ`Int?`ï¼Œè€Œä¸æ˜¯`Int`ã€‚é—®å·è¡¨ç¤ºå®ƒåŒ…å«çš„å€¼æ˜¯å¯é€‰çš„ï¼Œè¿™æ„å‘³ç€å®ƒå¯èƒ½åŒ…å«*ä¸€äº›*`Int`å€¼ï¼Œæˆ–è€…å®ƒå¯èƒ½*æ ¹æœ¬ä¸*åŒ…å«*ä»»ä½•å€¼*ã€‚ï¼ˆå®ƒä¸èƒ½åŒ…å«ä»»ä½•å…¶ä»–å†…å®¹ï¼Œä¾‹å¦‚`Bool`å€¼æˆ–`String`å€¼ã€‚å®ƒè¦ä¹ˆæ˜¯`Int`ï¼Œè¦ä¹ˆä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚ï¼‰

### nil

æ‚¨å¯ä»¥é€šè¿‡ä¸ºç‰¹æ®Šå€¼`nil`å°†å…¶è®¾ç½®ä¸ºæ— å€¼çŠ¶æ€çš„å¯é€‰å˜é‡ï¼š

```swift
var serverResponseCode: Int? = 404
// serverResponseCode contains an actual Int value of 404
serverResponseCode = nil
// serverResponseCode now contains no value
```

> æ³¨æ„
>
> æ‚¨ä¸èƒ½å°†`nil`ä¸éå¯é€‰å¸¸é‡å’Œå˜é‡ä¸€èµ·ä½¿ç”¨ã€‚å¦‚æœä»£ç ä¸­çš„å¸¸é‡æˆ–å˜é‡åœ¨æŸäº›æ¡ä»¶ä¸‹éœ€è¦åœ¨æ²¡æœ‰å€¼çš„æƒ…å†µä¸‹å·¥ä½œï¼Œè¯·å§‹ç»ˆå°†å…¶å£°æ˜ä¸ºé€‚å½“ç±»å‹çš„å¯é€‰å€¼ã€‚

å¦‚æœæ‚¨åœ¨ä¸æä¾›é»˜è®¤å€¼çš„æƒ…å†µä¸‹å®šä¹‰å¯é€‰å˜é‡ï¼Œè¯¥å˜é‡å°†è‡ªåŠ¨è®¾ç½®ä¸º`nil`ï¼š

```swift
var surveyAnswer: String?
// surveyAnswer is automatically set to nil
```

> æ³¨æ„
>
> Swiftçš„â€œnilâ€å’ŒObjective-Cä¸­çš„â€œnilâ€ä¸ä¸€æ ·ã€‚åœ¨Objective-Cä¸­ï¼Œ' nil 'æ˜¯ä¸€ä¸ªæŒ‡å‘ä¸å­˜åœ¨å¯¹è±¡çš„æŒ‡é’ˆã€‚åœ¨Swiftä¸­ï¼Œ' nil 'ä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆâ€”â€”å®ƒæ˜¯ä¸€ä¸ªç‰¹å®šç±»å‹çš„å€¼çš„ç¼ºå¤±ã€‚ä»»ä½•ç±»å‹çš„å¯é€‰å‚æ•°éƒ½å¯ä»¥è®¾ç½®ä¸ºnilï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡ç±»å‹ã€‚

### å¦‚æœé™ˆè¿°å’Œå¼ºåˆ¶æ‰“å¼€åŒ…è£…

ä½ å¯ä»¥ä½¿ç”¨' if 'è¯­å¥ï¼Œé€šè¿‡æ¯”è¾ƒå¯é€‰çš„å’Œ' nil 'æ¥ç¡®å®šå¯é€‰çš„æ˜¯å¦åŒ…å«ä¸€ä¸ªå€¼ã€‚å¯ä»¥ä½¿ç”¨â€œç­‰äºâ€æ“ä½œç¬¦(' == ')æˆ–â€œä¸ç­‰äºâ€æ“ä½œç¬¦(' != ')æ‰§è¡Œæ­¤æ¯”è¾ƒã€‚

å¦‚æœå¯é€‰é€‰é¡¹å…·æœ‰å€¼ï¼Œåˆ™å°†å…¶è§†ä¸ºâ€œä¸ç­‰äºâ€`nil`ï¼š

```swift
if convertedNumber != nil {
   print("convertedNumber contains some integer value.")
}
// Prints "convertedNumber contains some integer value."
```

ä¸€æ—¦æ‚¨ç¡®å®šå¯é€‰å†…å®¹*ç¡®å®*åŒ…å«ä¸€ä¸ªå€¼ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ æ„Ÿå¹å·æ¥è®¿é—®å…¶åŸºç¡€å€¼ï¼ˆ`!`ï¼‰ç›´åˆ°å¯é€‰åç§°çš„æœ«å°¾ã€‚æ„Ÿå¹å·æœ‰æ•ˆåœ°è¯´ï¼šâ€œæˆ‘çŸ¥é“è¿™ä¸ªå¯é€‰è‚¯å®šæœ‰ä»·å€¼ï¼›è¯·ä½¿ç”¨å®ƒã€‚â€è¿™è¢«ç§°ä¸º*å¼ºåˆ¶æ‰“å¼€*å¯é€‰å€¼ï¼š

```swift
if convertedNumber != nil {
   print("convertedNumber has an integer value of \(convertedNumber!).")
}
// Prints "convertedNumber has an integer value of 123."
```

æœ‰å…³`if`è¯­å¥çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[æ§åˆ¶æµ](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html)ã€‚

> æ³¨æ„
>
> å°è¯•ä½¿ç”¨`!`è®¿é—®ä¸å­˜åœ¨çš„å¯é€‰å€¼ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œè¯·åŠ¡å¿…ç¡®ä¿å¯é€‰é€‰é¡¹åŒ…å«é`nil`å€¼`!`å¼ºè¡Œæ‰“å¼€å®ƒçš„ä»·å€¼ã€‚

### å¯é€‰ç»‘å®š

ä½ å¯ä»¥ä½¿ç”¨*å¯é€‰ç»‘å®š*æ¥ç¡®å®šä¸€ä¸ªå¯é€‰ç»‘å®šæ˜¯å¦åŒ…å«ä¸€ä¸ªå€¼ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†è¯¥å€¼ç”¨ä½œä¸´æ—¶å¸¸é‡æˆ–å˜é‡ã€‚å¯é€‰ç»‘å®šå¯ä»¥ä¸' if 'å’Œ' while 'è¯­å¥ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æ£€æŸ¥å¯é€‰ç»‘å®šä¸­çš„å€¼ï¼Œå¹¶å°†è¯¥å€¼æå–åˆ°ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡ä¸­ï¼Œä½œä¸ºå•ä¸ªæ“ä½œçš„ä¸€éƒ¨åˆ†ã€‚â€œifâ€å’Œâ€œwhileâ€è¯­å¥åœ¨[Control Flow](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html)ä¸­æœ‰æ›´è¯¦ç»†çš„æè¿°ã€‚

ä¸º`if`è¯­å¥ç¼–å†™å¯é€‰ç»‘å®šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```swift
if let constantName = someOptional {
   statements
}
```

æ‚¨å¯ä»¥ä»[å¯é€‰](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html#ID330)éƒ¨åˆ†é‡å†™`possibleNumber`ç¤ºä¾‹ï¼Œä»¥ä½¿ç”¨å¯é€‰ç»‘å®šè€Œä¸æ˜¯å¼ºåˆ¶å±•å¼€åŒ…è£…ï¼š

```swift
if let actualNumber = Int(possibleNumber) {
   print("The string \"\(possibleNumber)\" has an integer value of \(actualNumber)")
} else {
   print("The string \"\(possibleNumber)\" couldn't be converted to an integer")
}
// Prints "The string "123" has an integer value of 123"
```

æ­¤ä»£ç å¯ä»¥è¯»ä½œï¼š

â€œå¦‚æœ`Int(possibleNumber)`è¿”å›çš„å¯é€‰`Int`åŒ…å«ä¸€ä¸ªå€¼ï¼Œè¯·å°†åä¸º`actualNumber`çš„æ–°å¸¸é‡è®¾ç½®ä¸ºå¯é€‰å€¼ã€‚â€

å¦‚æœè½¬æ¢æˆåŠŸï¼Œ`actualNumber`å¸¸é‡å¯ä»¥åœ¨`if`è¯­å¥çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ä¸­ä½¿ç”¨ã€‚å®ƒå·²ç»ç”¨å¯é€‰ä¸­åŒ…å«çš„å€¼åˆå§‹åŒ–ï¼Œå› æ­¤æ‚¨ä¸ä½¿ç”¨`!`åç¼€ä»¥è®¿é—®å…¶å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œ`actualNumber`ä»…ç”¨äºæ‰“å°è½¬æ¢ç»“æœã€‚

You can use both constants and variables with optional binding. If you wanted to manipulate the value of `actualNumber` within the first branch of the `if` statement, you could write `if var actualNumber` instead, and the value contained within the optional would be made available as a variable rather than a constant.

æ‚¨å¯ä»¥æ ¹æ®éœ€è¦åœ¨å•ä¸ª`if`è¯­å¥ä¸­åŒ…å«å°½å¯èƒ½å¤šçš„å¯é€‰ç»‘å®šå’Œå¸ƒå°”æ¡ä»¶ï¼Œå¹¶ç”¨é€—å·åˆ†éš”ã€‚å¦‚æœå¯é€‰ç»‘å®šä¸­çš„ä»»ä½•å€¼ä¸º`nil`ï¼Œæˆ–è€…ä»»ä½•å¸ƒå°”æ¡ä»¶è®¡ç®—ä¸º`false`ï¼Œåˆ™æ•´ä¸ª`if`è¯­å¥çš„æ¡ä»¶è¢«è§†ä¸º`false`ã€‚`if`é™ˆè¿°ç­‰æ•ˆï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼å¤„ç†ï¼š

```swift
if let firstNumber = Int("4"), let secondNumber = Int("42"), firstNumber < secondNumber && secondNumber < 100 {
   print("\(firstNumber) < \(secondNumber) < 100")
}
// Prints "4 < 42 < 100"

if let firstNumber = Int("4") {
   if let secondNumber = Int("42") {
       if firstNumber < secondNumber && secondNumber < 100 {
           print("\(firstNumber) < \(secondNumber) < 100")
       }
   }
}
// Prints "4 < 42 < 100
```

> æ³¨æ„
>
> åœ¨`if`è¯­å¥ä¸­ä½¿ç”¨å¯é€‰ç»‘å®šåˆ›å»ºçš„å¸¸é‡å’Œå˜é‡ä»…åœ¨`if`è¯­å¥çš„æ­£æ–‡ä¸­å¯ç”¨ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä½¿ç”¨`guard`è¯­å¥åˆ›å»ºçš„å¸¸é‡å’Œå˜é‡å¯ä»¥åœ¨`guard`è¯­å¥åé¢çš„ä»£ç è¡Œä¸­æ‰¾åˆ°ï¼Œå¦‚[Early Exit](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID525)æ‰€è¿°ã€‚

### éšå¼æ‹†å¼€çš„å¯é€‰

å¦‚ä¸Šæ‰€è¿°ï¼Œå¯é€‰è¡¨ç¤ºå…è®¸å¸¸é‡æˆ–å˜é‡â€œæ— å€¼â€ã€‚å¯é€‰é€‰é¡¹å¯ä»¥ç”¨`if`è¯­å¥æ£€æŸ¥ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨å€¼ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¯é€‰ç»‘å®šæœ‰æ¡ä»¶åœ°å±•å¼€ï¼Œä»¥è®¿é—®å¯é€‰å€¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚

æœ‰æ—¶ï¼Œä»ç¨‹åºçš„ç»“æ„ä¸­å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œåœ¨é¦–æ¬¡è®¾ç½®è¯¥å€¼åï¼Œå¯é€‰å€¼å°†*å§‹ç»ˆ*å…·æœ‰è¯¥å€¼ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è®¿é—®å¯é€‰å€¼æ—¶ï¼Œæ— éœ€æ£€æŸ¥å’Œæ‰“å¼€å…¶å€¼ï¼Œå› ä¸ºå¯ä»¥å®‰å…¨åœ°å‡è®¾å®ƒä¸€ç›´å…·æœ‰å€¼ã€‚

è¿™äº›ç±»å‹çš„å¯é€‰é€‰é¡¹è¢«å®šä¹‰ä¸º*éšå¼æœªåŒ…è£…çš„å¯é€‰é€‰é¡¹*ã€‚æ‚¨é€šè¿‡æ”¾ç½®æ„Ÿå¹å·ï¼ˆ`String!`ï¼‰æ¥ç¼–å†™éšå¼æ‰“å¼€çš„å¯é€‰é€‰é¡¹è€Œä¸æ˜¯é—®å·ï¼ˆ`String?`ï¼‰åœ¨æ‚¨æƒ³è¦é€‰æ‹©çš„ç±»å‹ä¹‹åã€‚ä½¿ç”¨æ—¶ï¼Œä¸è¦åœ¨å¯é€‰åç§°åæ”¾ç½®æ„Ÿå¹å·ï¼Œè€Œæ˜¯åœ¨å£°æ˜é€‰é¡¹ç±»å‹åæ”¾ç½®æ„Ÿå¹å·ã€‚

å½“å¯é€‰å€¼åœ¨é¦–æ¬¡å®šä¹‰å¯é€‰åç«‹å³ç¡®è®¤å­˜åœ¨æ—¶ï¼Œéšå¼æœªåŒ…è£…çš„å¯é€‰å€¼éå¸¸æœ‰ç”¨ï¼Œå¹¶ä¸”å¯ä»¥è‚¯å®šå¯ä»¥å‡è®¾åœ¨æ­¤åçš„æ¯ä¸ªç‚¹éƒ½å­˜åœ¨ã€‚Swiftä¸­éšå¼æœªåŒ…è£…çš„å¯é€‰é€‰é¡¹çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ç±»åˆå§‹åŒ–æœŸé—´ï¼Œå¦‚[Unowned Referenceså’ŒImlicitly Unwrapped Optional Properties](https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html#ID55)ä¸­æ‰€è¿°ã€‚

éšå¼å±•å¼€çš„å¯é€‰é€‰é¡¹æ˜¯å¹•åæ­£å¸¸çš„å¯é€‰é€‰é¡¹ï¼Œä½†ä¹Ÿå¯ä»¥åƒéå¯é€‰å€¼ä¸€æ ·ä½¿ç”¨ï¼Œè€Œæ— éœ€æ¯æ¬¡è®¿é—®æ—¶è§£å¼€å¯é€‰å€¼ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¯é€‰å­—ç¬¦ä¸²å’Œéšå¼æœªåŒ…è£…çš„å¯é€‰å­—ç¬¦ä¸²åœ¨ä»¥æ˜¾å¼`String`çš„å½¢å¼è®¿é—®å…¶åŒ…è£…å€¼æ—¶çš„è¡Œä¸ºå·®å¼‚ï¼š

```swift
let possibleString: String? = "An optional string."
let forcedString: String = possibleString! // éœ€è¦ä¸€ä¸ªæ„Ÿå¹å·

let assumedString: String! = "An implicitly unwrapped optional string."
let implicitString: String = assumedString // ä¸éœ€è¦æ„Ÿå¹å·
```

æ‚¨å¯ä»¥å°†éšå¼è§£å°çš„å¯é€‰é€‰é¡¹è§†ä¸ºåœ¨éœ€è¦æ—¶å¼ºåˆ¶æ‰“å¼€å¯é€‰é€‰é¡¹ã€‚å½“æ‚¨ä½¿ç”¨éšå¼å±•å¼€çš„å¯é€‰å€¼æ—¶ï¼ŒSwifté¦–å…ˆå°è¯•å°†å…¶ç”¨ä½œæ™®é€šçš„å¯é€‰å€¼ï¼›å¦‚æœä¸èƒ½ç”¨ä½œå¯é€‰å€¼ï¼ŒSwiftå°†å¼ºåˆ¶è§£å¼€è¯¥å€¼ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¯é€‰å€¼ `assumedString`åœ¨å°†å…¶å€¼åˆ†é…ç»™`implicitString`ä¹‹å‰è¢«å¼ºåˆ¶è§£å¼€ï¼Œå› ä¸º`implicitString`å…·æœ‰æ˜¾å¼ã€éå¯é€‰ç±»å‹çš„`String`ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ`optionalString`æ²¡æœ‰æ˜¾å¼ç±»å‹ï¼Œå› æ­¤å®ƒæ˜¯æ™®é€šçš„å¯é€‰ã€‚

```swift
let optionalString = assumedString
// optionalStringçš„ç±»å‹æ˜¯â€œString?â€ï¼Œè€ŒassumedStringä¸å¼ºåˆ¶è§£åŒ…è£…ã€‚
```

å¦‚æœéšå¼è§£åŒ…çš„å¯é€‰é€‰é¡¹ä¸º`nil`ï¼Œå¹¶ä¸”æ‚¨å°è¯•è®¿é—®å…¶åŒ…è£…å€¼ï¼Œæ‚¨å°†è§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚ç»“æœä¸æ‚¨åœ¨ä¸åŒ…å«å€¼çš„æ­£å¸¸å¯é€‰é€‰é¡¹åæ”¾ç½®æ„Ÿå¹å·å®Œå…¨ç›¸åŒã€‚

æ‚¨å¯ä»¥æ£€æŸ¥éšå¼æœªåŒ…è£…çš„å¯é€‰é€‰é¡¹æ˜¯å¦ä¸º`nil`ï¼Œå°±åƒæ£€æŸ¥æ­£å¸¸å¯é€‰é€‰é¡¹ä¸€æ ·ï¼š

```swift
if assumedString != nil {
   print(assumedString!)
}
// Prints "éšå¼è§£é™¤åŒ…è£…çš„å¯é€‰å­—ç¬¦ä¸²ã€‚"
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å¸¦æœ‰å¯é€‰ç»‘å®šçš„éšå¼è§£åŒ…è£…å¯é€‰é€‰é¡¹ï¼Œåœ¨å•ä¸ªè¯­å¥ä¸­æ£€æŸ¥å’Œè§£åŒ…è£…å…¶å€¼ï¼š

```swift
if let definiteString = assumedString {
   print(definiteString)
}
// Prints "An implicitly unwrapped optional string."
```

> æ³¨æ„
>
> å½“å˜é‡ä»¥åå¯èƒ½å˜æˆ`nil`ï¼Œä¸è¦ä½¿ç”¨éšå¼æœªåŒ…è£…çš„å¯é€‰é€‰é¡¹ã€‚å¦‚æœæ‚¨éœ€è¦åœ¨å˜é‡ç”Ÿå‘½å‘¨æœŸå†…æ£€æŸ¥`nil`å€¼ï¼Œè¯·å§‹ç»ˆä½¿ç”¨æ­£å¸¸çš„å¯é€‰ç±»å‹ã€‚

## é”™è¯¯å¤„ç†

æ‚¨ä½¿ç”¨*é”™è¯¯å¤„ç†*æ¥å“åº”ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é”™è¯¯æ¡ä»¶ã€‚

ä¸å¯é€‰é€‰é¡¹ä¸åŒï¼Œåè€…å¯ä»¥ä½¿ç”¨å€¼çš„å­˜åœ¨æˆ–ä¸å­˜åœ¨æ¥ä¼ è¾¾å‡½æ•°çš„æˆåŠŸæˆ–å¤±è´¥ï¼Œä¸ä¹‹ç›¸åï¼Œé”™è¯¯å¤„ç†å…è®¸æ‚¨ç¡®å®šå¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå¹¶åœ¨å¿…è¦æ—¶å°†é”™è¯¯ä¼ æ’­åˆ°ç¨‹åºçš„å¦ä¸€éƒ¨åˆ†ã€‚

å½“å‡½æ•°é‡åˆ°é”™è¯¯æ¡ä»¶æ—¶ï¼Œå®ƒä¼š*æŠ›å‡º*é”™è¯¯ã€‚ç„¶åï¼Œè¯¥å‡½æ•°çš„è°ƒç”¨è€…å¯ä»¥*æ•è·*é”™è¯¯å¹¶åšå‡ºé€‚å½“çš„å“åº”ã€‚

```swift
func canThrowAnError() throws {
   // è¿™ä¸ªå‡½æ•°å¯èƒ½æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿå¯èƒ½ä¸æŠ›å‡ºé”™è¯¯
}
```

å‡½æ•°è¡¨ç¤ºå¯ä»¥é€šè¿‡åœ¨å…¶å£°æ˜ä¸­åŒ…å«`throws`å…³é”®å­—æ¥æŠ›å‡ºé”™è¯¯ã€‚å½“æ‚¨è°ƒç”¨å¯ä»¥æŠ›å‡ºé”™è¯¯çš„å‡½æ•°æ—¶ï¼Œæ‚¨å°†`try`å…³é”®å­—ä¹‹å‰ç½®äºè¡¨è¾¾å¼ã€‚

Swiftä¼šè‡ªåŠ¨å°†é”™è¯¯ä¼ æ’­åˆ°å½“å‰èŒƒå›´ä¹‹å¤–ï¼Œç›´åˆ°å®ƒä»¬ç”±`catch`å­å¥å¤„ç†ã€‚

```swift
do {
   try canThrowAnError()
   // no error was thrown
} catch {
   // an error was thrown
}
```

`do`è¯­å¥åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ…å«èŒƒå›´ï¼Œå…è®¸å°†é”™è¯¯ä¼ æ’­åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª`catch`å­å¥ã€‚

ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨é”™è¯¯å¤„ç†æ¥å“åº”ä¸åŒé”™è¯¯æ¡ä»¶çš„ç¤ºä¾‹ï¼š

```swift
func makeASandwich() throws {
   // ...
}

do {
   try makeASandwich()
   eatASandwich()
} catch SandwichError.outOfCleanDishes {
   washDishes()
} catch SandwichError.missingIngredients(let ingredients) {
   buyGroceries(ingredients)
}
```

åœ¨æœ¬ä¾‹ä¸­ï¼Œå¦‚æœæ²¡æœ‰å¹²å‡€çš„èœè‚´æˆ–ç¼ºå°‘ä»»ä½•æˆåˆ†ï¼Œ`makeASandwich()`å‡½æ•°å°†æŠ›å‡ºé”™è¯¯ã€‚ç”±äº`makeASandwich()`å¯ä»¥æŠ›å‡ºé”™è¯¯ï¼Œå‡½æ•°è°ƒç”¨è¢«åŒ…è£…åœ¨`try`è¡¨è¾¾å¼ä¸­ã€‚é€šè¿‡å°†å‡½æ•°è°ƒç”¨åŒ…è£…åœ¨`do`è¯­å¥ä¸­ï¼ŒæŠ›å‡ºçš„ä»»ä½•é”™è¯¯éƒ½å°†ä¼ æ’­åˆ°æä¾›çš„`catch`å­å¥ã€‚

å¦‚æœæ²¡æœ‰æŠ›å‡ºé”™è¯¯ï¼Œåˆ™è°ƒç”¨`eatASandwich()`å‡½æ•°ã€‚å¦‚æœæŠ›å‡ºé”™è¯¯ï¼Œå¹¶ä¸”ä¸`SandwichError.outOfCleanDishes`æƒ…å†µåŒ¹é…ï¼Œåˆ™å°†è°ƒç”¨`washDishes()`å‡½æ•°ã€‚å¦‚æœæŠ›å‡ºé”™è¯¯ï¼Œå¹¶ä¸”å®ƒä¸`SandwichError.missingIngredients`çš„æƒ…å†µåŒ¹é…ï¼Œåˆ™ä½¿ç”¨`catch`æ¨¡å¼æ•è·çš„å…³è”`[String]`å€¼è°ƒç”¨`buyGroceries(_:)`å‡½æ•°ã€‚

[é”™è¯¯å¤„ç†](https://docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html)ä¸­æ›´è¯¦ç»†åœ°ä»‹ç»äº†æŠ›å‡ºã€æ•è·å’Œä¼ æ’­é”™è¯¯ã€‚

## æ–­è¨€å’Œå…ˆå†³æ¡ä»¶

*æ–­è¨€*å’Œ*å…ˆå†³æ¡ä»¶*æ˜¯åœ¨è¿è¡Œæ—¶å‘ç”Ÿçš„æ£€æŸ¥ã€‚åœ¨æ‰§è¡Œä»»ä½•è¿›ä¸€æ­¥çš„ä»£ç ä¹‹å‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ç¡®ä¿æ»¡è¶³åŸºæœ¬æ¡ä»¶ã€‚å¦‚æœæ–­è¨€æˆ–å…ˆå†³æ¡ä»¶ä¸­çš„å¸ƒå°”æ¡ä»¶è®¡ç®—ä¸º`true`ï¼Œåˆ™ä»£ç æ‰§è¡Œå°†ç…§å¸¸ç»§ç»­ã€‚å¦‚æœæ¡ä»¶è®¡ç®—ä¸º`false`ï¼Œåˆ™ç¨‹åºçš„å½“å‰çŠ¶æ€æ— æ•ˆï¼›ä»£ç æ‰§è¡Œç»“æŸï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºè¢«ç»ˆæ­¢ã€‚

æ‚¨ä½¿ç”¨æ–­è¨€å’Œå…ˆå†³æ¡ä»¶æ¥è¡¨è¾¾æ‚¨åœ¨ç¼–ç æ—¶æ‰€åšçš„å‡è®¾å’ŒæœŸæœ›ï¼Œå› æ­¤æ‚¨å¯ä»¥å°†å®ƒä»¬åŒ…å«åœ¨ä»£ç ä¸­ã€‚æ–­è¨€å¯å¸®åŠ©æ‚¨åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°é”™è¯¯å’Œé”™è¯¯çš„å‡è®¾ï¼Œå…ˆå†³æ¡ä»¶å¯å¸®åŠ©æ‚¨æ£€æµ‹ç”Ÿäº§ä¸­çš„é—®é¢˜ã€‚

é™¤äº†åœ¨è¿è¡Œæ—¶éªŒè¯æ‚¨çš„æœŸæœ›å¤–ï¼Œæ–­è¨€å’Œå…ˆå†³æ¡ä»¶ä¹Ÿæˆä¸ºä»£ç ä¸­æœ‰ç”¨çš„æ–‡æ¡£å½¢å¼ã€‚ä¸ä¸Šé¢[é”™è¯¯å¤„ç†](https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html#ID515)ä¸­è®¨è®ºçš„é”™è¯¯æ¡ä»¶ä¸åŒï¼Œæ–­è¨€å’Œå…ˆå†³æ¡ä»¶ä¸ç”¨äºå¯æ¢å¤æˆ–é¢„æœŸé”™è¯¯ã€‚ç”±äºå¤±è´¥çš„æ–­è¨€æˆ–å…ˆå†³æ¡ä»¶è¡¨ç¤ºæ— æ•ˆçš„ç¨‹åºçŠ¶æ€ï¼Œå› æ­¤æ— æ³•æ•è·å¤±è´¥çš„æ–­è¨€ã€‚

ä½¿ç”¨æ–­è¨€å’Œå…ˆå†³æ¡ä»¶ä¸èƒ½æ›¿ä»£ä»¥ä¸å¤ªå¯èƒ½å‡ºç°æ— æ•ˆæ¡ä»¶çš„æ–¹å¼è®¾è®¡ä»£ç ã€‚ç„¶è€Œï¼Œä½¿ç”¨å®ƒä»¬æ¥å¼ºåˆ¶æ‰§è¡Œæœ‰æ•ˆæ•°æ®å’ŒçŠ¶æ€ä¼šå¯¼è‡´æ‚¨çš„åº”ç”¨ç¨‹åºåœ¨å‘ç”Ÿæ— æ•ˆçŠ¶æ€æ—¶æ›´å¯é¢„æµ‹åœ°ç»ˆæ­¢ï¼Œå¹¶æœ‰åŠ©äºä½¿é—®é¢˜æ›´å®¹æ˜“è°ƒè¯•ã€‚ä¸€æ—¦æ£€æµ‹åˆ°æ— æ•ˆçŠ¶æ€å°±åœæ­¢æ‰§è¡Œä¹Ÿæœ‰åŠ©äºé™åˆ¶è¯¥æ— æ•ˆçŠ¶æ€é€ æˆçš„æŸå®³ã€‚

æ–­è¨€å’Œå…ˆå†³æ¡ä»¶ä¹‹é—´çš„åŒºåˆ«åœ¨äºå®ƒä»¬è¢«æ£€æŸ¥æ—¶ï¼šæ–­è¨€ä»…åœ¨è°ƒè¯•æ„å»ºä¸­æ£€æŸ¥ï¼Œä½†å…ˆå†³æ¡ä»¶åœ¨è°ƒè¯•å’Œç”Ÿäº§æ„å»ºä¸­éƒ½è¢«æ£€æŸ¥ã€‚åœ¨ç”Ÿäº§æ„å»ºä¸­ï¼Œä¸è¯„ä¼°æ–­è¨€ä¸­çš„æ¡ä»¶ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ä»»æ„æ•°é‡çš„æ–­è¨€ï¼Œè€Œä¸ä¼šå½±å“ç”Ÿäº§æ€§èƒ½ã€‚

### ä½¿ç”¨æ–­è¨€è¿›è¡Œè°ƒè¯•

æ‚¨é€šè¿‡ä»Swiftæ ‡å‡†åº“è°ƒç”¨[`assert(_:_:file:line:)`](https://developer.apple.com/documentation/swift/1541112-assert)å‡½æ•°æ¥ç¼–å†™æ–­è¨€ã€‚æ‚¨ä¼ é€’æ­¤å‡½æ•°ï¼Œä¸€ä¸ªè®¡ç®—ä¸º`true`æˆ–`false`è¡¨è¾¾å¼ï¼Œå¦‚æœæ¡ä»¶çš„ç»“æœä¸º`false`ï¼Œåˆ™æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼š

```swift
let age = -3
assert(age >= 0, "A person's age can't be less than zero.")
// è¿™ä¸ªæ–­è¨€å¤±è´¥ï¼Œå› ä¸º-3ä¸æ˜¯>= 0ã€‚
```

åœ¨æœ¬ä¾‹ä¸­ï¼Œå¦‚æœ' age >= 0 'çš„å€¼ä¸º' true 'ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ' age 'çš„å€¼æ˜¯éè´Ÿçš„ï¼Œåˆ™ä»£ç ç»§ç»­æ‰§è¡Œã€‚å¦‚æœ' age 'çš„å€¼ä¸ºè´Ÿå€¼ï¼Œå¦‚ä¸Šé¢çš„ä»£ç æ‰€ç¤ºï¼Œé‚£ä¹ˆ' age >= 0 'çš„è®¡ç®—ç»“æœä¸º' false 'ï¼Œæ–­è¨€å°†å¤±è´¥ï¼Œä»è€Œç»ˆæ­¢åº”ç”¨ç¨‹åºã€‚

æ‚¨å¯ä»¥çœç•¥æ–­è¨€æ¶ˆæ¯â€”â€”ä¾‹å¦‚ï¼Œå½“å®ƒåªæ˜¯ä½œä¸ºæ•£æ–‡é‡å¤æ¡ä»¶æ—¶ã€‚

```swift
assert(age >= 0)
```

å¦‚æœä»£ç å·²ç»æ£€æŸ¥äº†æ¡ä»¶ï¼Œåˆ™ä½¿ç”¨[' assertionFailure(:file:line:) '](https://developer.apple.com/documentation/swift/1539616-assertionfailure)functionè¡¨ç¤ºæ–­è¨€å¤±è´¥ã€‚ä¾‹å¦‚:

```swift
if age > 10 {
   print("You can ride the roller-coaster or the ferris wheel.")
} else if age >= 0 {
   print("You can ride the ferris wheel.")
} else {
   assertionFailure("A person's age can't be less than zero.")
}
```

### æ‰§è¡Œå…ˆå†³æ¡ä»¶

æ¯å½“æ¡ä»¶å¯èƒ½ä¸ºå‡æ—¶ï¼Œè¯·ä½¿ç”¨å…ˆå†³æ¡ä»¶ï¼Œä½†æ‚¨çš„ä»£ç å¿…é¡»æ˜¯çœŸçš„æ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å…ˆå†³æ¡ä»¶æ£€æŸ¥ä¸‹æ ‡æ²¡æœ‰è¶Šç•Œï¼Œæˆ–æ£€æŸ¥å‡½æ•°æ˜¯å¦ä¼ é€’äº†æœ‰æ•ˆå€¼ã€‚

æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨[`precondition(_:_:file:line:)`](https://developer.apple.com/documentation/swift/1540960-precondition)å‡½æ•°ç¼–å†™å…ˆå†³æ¡ä»¶ã€‚æ‚¨ä¼ é€’æ­¤å‡½æ•°ï¼Œä¸€ä¸ªè®¡ç®—ä¸º`true`æˆ–`false`è¡¨è¾¾å¼ï¼Œå¦‚æœæ¡ä»¶çš„ç»“æœä¸º`false`ï¼Œåˆ™æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼š

```swift
// åœ¨ä¸‹æ ‡çš„å®ç°ä¸­â€¦
precondition(index > 0, "Index must be greater than zero.")
```

æ‚¨è¿˜å¯ä»¥è°ƒç”¨[`preconditionFailure(_:file:line:)`](https://developer.apple.com/documentation/swift/1539374-preconditionfailure)å‡½æ•°æ¥æŒ‡ç¤ºå‘ç”Ÿäº†æ•…éšœâ€”â€”ä¾‹å¦‚ï¼Œå¦‚æœé‡‡ç”¨äº†äº¤æ¢æœºçš„é»˜è®¤æƒ…å†µï¼Œä½†æ‰€æœ‰æœ‰æ•ˆçš„è¾“å…¥æ•°æ®éƒ½åº”è¯¥ç”±äº¤æ¢æœºçš„å…¶ä»–æƒ…å†µä¹‹ä¸€å¤„ç†ã€‚

> æ³¨æ„
>
> å¦‚æœæ‚¨ä»¥æœªé€‰ä¸­æ¨¡å¼ï¼ˆ`-Ounchecked`ç¼–è¯‘ï¼Œåˆ™ä¸ä¼šæ£€æŸ¥å…ˆå†³æ¡ä»¶ã€‚ç¼–è¯‘å™¨å‡è®¾å…ˆå†³æ¡ä»¶å§‹ç»ˆä¸ºçœŸï¼Œå¹¶ç›¸åº”åœ°ä¼˜åŒ–æ‚¨çš„ä»£ç ã€‚ç„¶è€Œï¼Œæ— è®ºä¼˜åŒ–è®¾ç½®å¦‚ä½•ï¼ŒthefatalError`fatalError(_:file:line:)`å‡½æ•°æ€»æ˜¯åœæ­¢æ‰§è¡Œã€‚
>
> æ‚¨å¯ä»¥åœ¨åŸå‹å’Œæ—©æœŸå¼€å‘æœŸé—´ä½¿ç”¨`fatalError(_:file:line:)`å‡½æ•°ï¼Œé€šè¿‡ç¼–å†™`fatalError("Unimplemented")`ä½œä¸ºå­˜æ ¹å®ç°ï¼Œä¸ºå°šæœªå®ç°çš„åŠŸèƒ½åˆ›å»ºå­˜æ ¹ã€‚ç”±äºè‡´å‘½é”™è¯¯æ°¸è¿œä¸ä¼šè¢«ä¼˜åŒ–ï¼Œä¸æ–­è¨€æˆ–å…ˆå†³æ¡ä»¶ä¸åŒï¼Œæ‚¨å¯ä»¥ç¡®ä¿å¦‚æœé‡åˆ°å­˜æ ¹å®ç°ï¼Œæ‰§è¡Œæ€»æ˜¯ä¼šåœæ­¢ã€‚